<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script src="http://code.jquery.com/ui/1.8.20/jquery-ui.min.js" type="text/javascript"></script>
    <style>
	.quickmenu { list-style-type: none; margin: 0; padding: 0; }
	.quickmenu li { margin: 3px 3px 3px 0; padding: 1px; float: left; width: 100px; height: 90px; font-size: 4em; text-align: center; }
    .quickmenu-default { border: black solid 3px; }
    .quickmenu-default:hover { border: dashed 3px; }
    #demo1 { width: 666px; height: 208px; margin: auto; padding: 1px; padding-left: 3px; border: 1px solid black; }
    #demo2 { margin: auto; padding: 1px; padding-left: 3px; border: 1px solid black; }
    .thickBorder { border: 1px solid black;  }
	</style>
	<script>
    
        (function( $ ){

            var methods = {
                init : function( options ) {
                
                    if (options && ("rows" in options) && ("cols" in options)) {
                        options['calc_boundaries'] = false;
                    }
                    else if (options && (("rows" in options) || ("cols" in options))) {
                        throw("Must specify *both* rows and cols for quickmenu if specifying either!");
                    }
                
                    var s = $.extend( {
                        'list_class' : 'quickmenu',
                        'item_class' : 'quickmenu-default',
                        'calc_boundaries' : true
                    }, options);
                
                    return this.each(function(){
                 
                        var $this = $(this);
                        var data = $this.data('quickmenu');
                     
                        // If the plugin hasn't been initialized yet
                        if ( ! data ) {
                            var ul = $(' <ul class="' + s.list_class + '">' );
                            $this.append(ul);  // append here so we can calculate dimensions later
                            
                            var li = new Array();
                            li[0] = $(' <li class="' + s.item_class + '">&nbsp;</li>');
                            ul.append(li[0]);
                            
                            // set rows and cols based on container dimensions
                            if (s.calc_boundaries) {
                                // outerWidth(true) includes margins
                                s.cols = Math.floor($this.width() / li[0].outerWidth(true));
                                s.rows = Math.floor($this.height() / li[0].outerHeight(true));
                            }
                            
                            // set container dimensions based on rows/cols
                            else {
                                // outerWidth(true) includes margins
                                $this.width( s.cols * li[0].outerWidth(true));
                                $this.height( s.rows * li[0].outerHeight(true));
                            }
                            
                            for (var i=1; i<s.rows*s.cols; i++) {
                                li[i] = $(' <li class="' + s.item_class + '">&nbsp;</li>');
                                ul.append(li[i]);
                            }
                            
                            ul.sortable();
                            ul.disableSelection();

                            $(this).data('quickmenu', {
                                target : $this,
                                ul : ul,
                                li : li,
                                item_class: s.item_class,
                                rows: s.rows,
                                cols: s.cols
                            });
                        }
                    });
                },
                
                destroy : function( ) {
                    return this.each(function(){
                        var $this = $(this),
                            data = $this.data('quickmenu');

                        // Namespacing FTW
                        $(window).unbind('.quickmenu');
                        data.quickmenu.remove();
                        $this.removeData('quickmenu');
                    })
                },
             
                reposition : function( ) {
                    // ...
                },
                show : function( ) {
                    // ...
                },
                hide : function( ) {
                    // ...
                },
                update : function( content ) {
                    // ...
                }
            };

            $.fn.quickmenu = function( method ) {

                if ( methods[method] ) {
                    return methods[method].apply( this, Array.prototype.slice.call( arguments, 1 ));
                }
                else if ( typeof method === 'object' || ! method ) {
                    return methods.init.apply( this, arguments );
                }
                else {
                    $.error( 'Method ' +  method + ' does not exist on jQuery.quickmenu' );
                }    

            };

        })( jQuery );
    
	$(function() {
        $(document).ready(function() {
            $('#demo1').quickmenu();
            $('#demo2').quickmenu({'rows':3, 'cols':4});
        });
	});
    
	</script>

</head>
<body>
<div id="demo1">
</div><br/>
<div id="demo2">
</div>
</body>
</html>